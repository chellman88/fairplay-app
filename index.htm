<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FairPlay Dating App</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <!-- Your CSS remains the same -->
  <style>
    /* Your CSS code here */
    /* (Keeping your original CSS) */
  </style>
</head>
<body>
  <div class="app-container">
    <!-- Welcome Screen -->
    <div id="welcome-screen" class="screen active">
      <div class="content">
        <div class="header">
          <div class="logo">FairPlay</div>
        </div>
        <h1>Find Meaningful Connections</h1>
        <p>We're using AI to help create better dating experiences. Our AI assistants help guide you through finding compatible matches.</p>
        
        <h2>Choose Your Guide</h2>
        
        <div class="bot-card female">
          <div class="bot-icon"><i class="fas fa-female"></i></div>
          <h3>Echo</h3>
          <p>A friendly guide who will help you navigate meaningful connections with empathy and insight.</p>
        </div>
        
        <div class="bot-card male">
          <div class="bot-icon"><i class="fas fa-male"></i></div>
          <h3>Ace</h3>
          <p>A straightforward companion who helps you cut through the noise and find quality matches.</p>
        </div>
      </div>
    </div>
    
    <!-- Echo Chat Screen -->
    <div id="echo-chat" class="screen">
      <div class="header">
        <button class="back-button" onclick="showScreen('welcome-screen')">
          <i class="fas fa-arrow-left"></i> Back
        </button>
        <div class="logo">Echo</div>
      </div>
      
      <div class="chat-container">
        <div class="chat-message bot">
          Hi there! I'm Echo, your dating assistant. I'm here to help you find meaningful connections. What are you looking for in a partner?
        </div>
      </div>
      
      <div class="chat-input">
        <input type="text" placeholder="Type your message..." onkeypress="if(event.key === 'Enter') sendMessage('echo')">
        <button onclick="sendMessage('echo')"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>
    
    <!-- Ace Chat Screen -->
    <div id="ace-chat" class="screen">
      <div class="header">
        <button class="back-button" onclick="showScreen('welcome-screen')">
          <i class="fas fa-arrow-left"></i> Back
        </button>
        <div class="logo">Ace</div>
      </div>
      
      <div class="chat-container">
        <div class="chat-message bot">
          Hey there! I'm Ace, your dating coach. I'm here to help you find quality connections. What qualities are most important to you in a match?
        </div>
      </div>
      
      <div class="chat-input">
        <input type="text" placeholder="Type your message..." onkeypress="if(event.key === 'Enter') sendMessage('ace')">
        <button onclick="sendMessage('ace')"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>
    
    <!-- Home Screen -->
    <div id="home-screen" class="screen">
      <div class="header">
        <div class="logo">FairPlay</div>
      </div>
      
      <h2>Today's Matches</h2>
      
      <div class="date-card">
        <img src="/api/placeholder/400/320" alt="Alex">
        <div class="date-card-content">
          <h3>Alex, 28</h3>
          <p>Passionate photographer who loves hiking and exploring new restaurants.</p>
          
          <div class="date-tags">
            <span class="date-tag">Hiking</span>
            <span class="date-tag">Photography</span>
            <span class="date-tag">Foodie</span>
          </div>
          
          <div class="action-buttons">
            <div class="action-button skip"><i class="fas fa-times"></i></div>
            <div class="action-button like"><i class="fas fa-heart"></i></div>
          </div>
        </div>
      </div>
      
      <div class="date-card">
        <img src="/api/placeholder/400/320" alt="Jordan">
        <div class="date-card-content">
          <h3>Jordan, 31</h3>
          <p>Software engineer by day, amateur chef by night. Dog lover and yoga enthusiast.</p>
          
          <div class="date-tags">
            <span class="date-tag">Cooking</span>
            <span class="date-tag">Dogs</span>
            <span class="date-tag">Yoga</span>
          </div>
          
          <div class="action-buttons">
            <div class="action-button skip"><i class="fas fa-times"></i></div>
            <div class="action-button like"><i class="fas fa-heart"></i></div>
          </div>
        </div>
      </div>
      
      <!-- Tab Bar -->
      <div class="tab-bar">
        <div class="tab active" onclick="showTab('home')">
          <div class="tab-icon"><i class="fas fa-home"></i></div>
          <div>Home</div>
        </div>
        <div class="tab" onclick="showTab('planning')">
          <div class="tab-icon"><i class="fas fa-calendar"></i></div>
          <div>Plan</div>
        </div>
        <div class="tab" onclick="showTab('tokens')">
          <div class="tab-icon"><i class="fas fa-coins"></i></div>
          <div>Tokens</div>
        </div>
        <div class="tab" onclick="showTab('profile')">
          <div class="tab-icon"><i class="fas fa-user"></i></div>
          <div>Profile</div>
        </div>
      </div>
    </div>
    
    <!-- Date Planning Screen -->
    <div id="date-planning" class="screen">
      <div class="header">
        <div class="logo">Date Ideas</div>
      </div>
      
      <h2>Suggested Date Ideas</h2>
      
      <div class="option-card">
        <h3>Cooking Class</h3>
        <p>Learn to make something delicious together, perfect for food lovers.</p>
      </div>
      
      <div class="option-card">
        <h3>Art Gallery Visit</h3>
        <p>Explore local art and culture with your match at a trendy exhibition.</p>
      </div>
      
      <div class="option-card">
        <h3>Coffee Tasting</h3>
        <p>Try different brews in a relaxed setting - perfect for conversation.</p>
      </div>
      
      <div class="option-card">
        <h3>Hiking Adventure</h3>
        <p>Connect with nature and each other on a scenic trail.</p>
      </div>
      
      <!-- Tab Bar -->
      <div class="tab-bar">
        <div class="tab" onclick="showTab('home')">
          <div class="tab-icon"><i class="fas fa-home"></i></div>
          <div>Home</div>
        </div>
        <div class="tab active" onclick="showTab('planning')">
          <div class="tab-icon"><i class="fas fa-calendar"></i></div>
          <div>Plan</div>
        </div>
        <div class="tab" onclick="showTab('tokens')">
          <div class="tab-icon"><i class="fas fa-coins"></i></div>
          <div>Tokens</div>
        </div>
        <div class="tab" onclick="showTab('profile')">
          <div class="tab-icon"><i class="fas fa-user"></i></div>
          <div>Profile</div>
        </div>
      </div>
    </div>
    
    <!-- Tokens Screen -->
    <div id="tokens-screen" class="screen">
      <div class="header">
        <div class="logo">FairPlay Tokens</div>
      </div>
      
      <div class="token-display">
        <div>
          <div class="token-amount">50</div>
          <div class="token-label">Available Tokens</div>
        </div>
        <div><i class="fas fa-coins" style="font-size: 36px; color: var(--primary);"></i></div>
      </div>
      
      <h2>Earn More Tokens</h2>
      
      <div class="option-card">
        <h3>Invite Friends</h3>
        <p>Get 10 tokens for each friend who joins.</p>
      </div>
      
      <div class="option-card">
        <h3>Complete Your Profile</h3>
        <p>Add a photo and details to earn 15 tokens.</p>
      </div>
      
      <div class="email-signup">
        <h3>Subscribe for Updates</h3>
        <p class="small-text">Get the latest tips and 20 free tokens.</p>
        <div class="success-message">Thanks for subscribing!</div>
        <input type="email" class="email-input" placeholder="Your email">
        <button onclick="showNotification('Subscribed successfully! +20 tokens')">Subscribe</button>
      </div>
      
      <!-- Tab Bar -->
      <div class="tab-bar">
        <div class="tab" onclick="showTab('home')">
          <div class="tab-icon"><i class="fas fa-home"></i></div>
          <div>Home</div>
        </div>
        <div class="tab" onclick="showTab('planning')">
          <div class="tab-icon"><i class="fas fa-calendar"></i></div>
          <div>Plan</div>
        </div>
        <div class="tab active" onclick="showTab('tokens')">
          <div class="tab-icon"><i class="fas fa-coins"></i></div>
          <div>Tokens</div>
        </div>
        <div class="tab" onclick="showTab('profile')">
          <div class="tab-icon"><i class="fas fa-user"></i></div>
          <div>Profile</div>
        </div>
      </div>
    </div>
    
    <!-- Profile Screen -->
    <div id="profile-screen" class="screen">
      <div class="header">
        <div class="logo">Your Profile</div>
      </div>
      
      <div class="upload-box">
        <div class="upload-icon"><i class="fas fa-camera"></i></div>
        <h3>Add Profile Photo</h3>
        <p>Upload a clear photo of yourself</p>
      </div>
      
      <h2>Complete Your Profile</h2>
      
      <p>Add more details about yourself to get better matches. Each field helps our AI understand your preferences.</p>
      
      <button class="glow-btn" onclick="showNotification('Profile update coming soon!')">Edit Profile</button>
      
      <!-- Tab Bar -->
      <div class="tab-bar">
        <div class="tab" onclick="showTab('home')">
          <div class="tab-icon"><i class="fas fa-home"></i></div>
          <div>Home</div>
        </div>
        <div class="tab" onclick="showTab('planning')">
          <div class="tab-icon"><i class="fas fa-calendar"></i></div>
          <div>Plan</div>
        </div>
        <div class="tab" onclick="showTab('tokens')">
          <div class="tab-icon"><i class="fas fa-coins"></i></div>
          <div>Tokens</div>
        </div>
        <div class="tab active" onclick="showTab('profile')">
          <div class="tab-icon"><i class="fas fa-user"></i></div>
          <div>Profile</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Place the script at the end of the body tag -->
  <script>
    // Define showScreen function globally
    function showScreen(screenId) {
      console.log('showScreen called with: ' + screenId);
      // Hide all screens
      document.querySelectorAll('.screen').forEach(screen => {
        screen.classList.remove('active');
      });
      // Show the selected screen
      const targetScreen = document.getElementById(screenId);
      if (targetScreen) {
        targetScreen.classList.add('active');
        console.log('Screen changed to: ' + screenId);
      } else {
        console.error('Screen not found: ' + screenId);
      }
    }
    
    // Define selectGender function globally
    function selectGender(gender) {
      console.log('selectGender called with: ' + gender);
      if (gender === 'female') {
        showScreen('echo-chat');
      } else {
        showScreen('ace-chat');
      }
    }
    
    // Enhanced sendMessage function
    function sendMessage(bot) {
      console.log('sendMessage called for: ' + bot);
      const input = document.querySelector(`#${bot}-chat input`);
      const message = input.value;
      
      if (message.trim() !== '') {
        const chatContainer = document.querySelector(`#${bot}-chat .chat-container`);
        
        // Add user message
        const userMessage = document.createElement('div');
        userMessage.className = 'chat-message user';
        userMessage.textContent = message;
        chatContainer.appendChild(userMessage);
        
        // Clear input
        input.value = '';
        
        // Show typing indicator
        const typingIndicator = document.createElement('div');
        typingIndicator.className = 'chat-message bot typing-indicator';
        typingIndicator.innerHTML = '<span>•</span><span>•</span><span>•</span>';
        chatContainer.appendChild(typingIndicator);
        
        // Scroll to bottom
        chatContainer.scrollTop = chatContainer.scrollHeight;
        
        // Generate response based on message content
        setTimeout(() => {
          // Remove typing indicator
          chatContainer.removeChild(typingIndicator);
          
          const botMessage = document.createElement('div');
          botMessage.className = 'chat-message bot';
          
          // Dynamic response generation based on message content
          let response = '';
          const lowercaseMsg = message.toLowerCase();
          
          if (bot === 'echo') {
            if (lowercaseMsg.includes('hi') || lowercaseMsg.includes('hello') || lowercaseMsg.includes('hey')) {
              response = "Hi there! I'm excited to help you find meaningful connections. How long have you been in the dating scene?";
            } else if (lowercaseMsg.includes('outdoor') || lowercaseMsg.includes('hiking') || lowercaseMsg.includes('nature')) {
              response = "I see you enjoy outdoor activities! That's great - it's actually one of the most popular interests among our users. Do you prefer solo hikes or group adventures?";
            } else if (lowercaseMsg.includes('dog') || lowercaseMsg.includes('pet') || lowercaseMsg.includes('animal')) {
              response = "Oh, you have pets? That's wonderful! Many users on our platform are animal lovers. Would you say being pet-friendly is a must-have for your potential matches?";
            } else if (lowercaseMsg.includes('food') || lowercaseMsg.includes('restaurant') || lowercaseMsg.includes('cuisine')) {
              response = "A foodie! I've noted that in your preferences. Are there any specific cuisines you particularly enjoy or would love to explore on a date?";
            } else if (lowercaseMsg.includes('movie') || lowercaseMsg.includes('film') || lowercaseMsg.includes('show')) {
              response = "I see you're interested in film and entertainment! That's a great conversation starter for dates. What genres do you typically enjoy watching?";
            } else if (lowercaseMsg.includes('match') || lowercaseMsg.includes('date')) {
              response = "I'm getting a better sense of what you're looking for in a match. Would you like to see some potential connections now based on what we've discussed?";
            } else {
              response = "Thanks for sharing that! The more I learn about you, the better matches I can find. Would you like to tell me about your ideal first date scenario?";
            }
          } else { // For Ace
            if (lowercaseMsg.includes('hi') || lowercaseMsg.includes('hello') || lowercaseMsg.includes('hey')) {
              response = "Hey there! Great to meet you. I'm here to help you create meaningful connections. Tell me a bit about your dating preferences?";
            } else if (lowercaseMsg.includes('travel') || lowercaseMsg.includes('trip') || lowercaseMsg.includes('vacation')) {
              response = "I see you enjoy traveling! That's an excellent way to connect with someone. What's been your favorite destination so far? I can look for people who share your wanderlust.";
            } else if (lowercaseMsg.includes('music') || lowercaseMsg.includes('concert') || lowercaseMsg.includes('band')) {
              response = "A music enthusiast! That's a great shared interest for potential matches. What genres or artists do you typically enjoy? Live music makes for excellent date opportunities.";
            } else if (lowercaseMsg.includes('food') || lowercaseMsg.includes('restaurant') || lowercaseMsg.includes('cuisine')) {
              response = "I notice you're interested in culinary experiences! Dining together is one of the most popular date activities. Any favorite cuisines or restaurant styles you prefer?";
            } else if (lowercaseMsg.includes('sport') || lowercaseMsg.includes('fitness') || lowercaseMsg.includes('gym')) {
              response = "Staying active is important to you! That's great - shared fitness activities can create strong bonds. Would you prefer someone who shares specific athletic interests?";
            } else if (lowercaseMsg.includes('match') || lowercaseMsg.includes('date')) {
              response = "Based on what you've shared, I think I have a good sense of what you're looking for. Would you like to see some potential matches now?";
            } else {
              response = "I appreciate you sharing that! Every detail helps me understand your preferences better. What qualities do you consider most important in a potential partner?";
            }
          }
          
          botMessage.textContent = response;
          chatContainer.appendChild(botMessage);
          
          // If message contains "match" or this is the 3rd+ exchange, offer to show matches
          const messageCount = chatContainer.querySelectorAll('.chat-message.user').length;
          if (lowercaseMsg.includes('match') || lowercaseMsg.includes('yes') || messageCount >= 3) {
            // Add "See Matches" button after a short delay
            setTimeout(() => {
              const matchButton = document.createElement('button');
              matchButton.textContent = 'See Matches';
              matchButton.className = 'glow-btn';
              matchButton.onclick = function() {
                showScreen('home-screen');
              };
              chatContainer.appendChild(matchButton);
              
              // Scroll to bottom
              chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 1000);
          }
          
          // Scroll to bottom
          chatContainer.scrollTop = chatContainer.scrollHeight;
        }, 1500); // Simulate thinking time
      }
    }
    
    // Define showTab function globally
    function showTab(tab) {
      console.log('showTab called with: ' + tab);
      if (tab === 'home') {
        showScreen('home-screen');
      } else if (tab === 'planning') {
        showScreen('date-planning');
      } else if (tab === 'tokens') {
        showScreen('tokens-screen');
      } else if (tab === 'profile') {
        showScreen('profile-screen');
      }
    }
    
    // Define showNotification function globally
    function showNotification(message) {
      console.log('showNotification called with: ' + message);
      
      // Create notification element if it doesn't exist
      let notification = document.getElementById('notification');
      if (!notification) {
        notification = document.createElement('div');
        notification.id = 'notification';
        notification.className = 'notification';
        document.body.appendChild(notification);
      }
      
      notification.textContent = message;
      notification.style.display = 'block';
      
      setTimeout(() => {
        notification.style.display = 'none';
      }, 2000);
    }
    
    // Helper function for email validation
    function isValidEmail(email) {
      const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(String(email).toLowerCase());
    }
    
    // Initialize everything when the page loads
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOM fully loaded - initializing app');
      
      // Add event listeners to bot cards
      const femaleCard = document.querySelector('.bot-card.female');
      if (femaleCard) {
        femaleCard.addEventListener('click', function() {
          selectGender('female');
        });
      }
      
      const maleCard = document.querySelector('.bot-card.male');
      if (maleCard) {
        maleCard.addEventListener('click', function() {
          selectGender('male');
        });
      }
      
      console.log('App initialized successfully');
    });
  </script>
</body>
</html>